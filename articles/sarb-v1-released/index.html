<!DOCTYPE html>
<html lang="en">

<head>

    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="description" content="Dave Liddament's technical blog">
    <meta name="author" content="Dave Liddament">

    <title>Dave Liddament</title>

    <!-- Bootstrap core CSS -->
    <link href="../../css/bootstrap.min.css" rel="stylesheet">

    <!-- Custom styles for this template -->
    <link href="../../css/custom.css" rel="stylesheet">
    <link href="../../css/prism.css" rel="stylesheet">

    <script src="https://kit.fontawesome.com/4dad72476f.js" crossorigin="anonymous"></script>


</head>

<body>

<!-- Navigation -->
<nav class="navbar navbar-expand-lg navbar-dark bg-dark fixed-top">
    <div class="container">
        <a class="navbar-brand" href="../../">Dave Liddament</a>
        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarResponsive"
                aria-controls="navbarResponsive" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarResponsive">
            <ul class="navbar-nav ml-auto">
                                    <li class="nav-item ">
                        <a class="nav-link" href="../../">Home
                                                    </a>
                    </li>
                                    <li class="nav-item ">
                        <a class="nav-link" href="../../talks">Talks
                                                    </a>
                    </li>
                                    <li class="nav-item active">
                        <a class="nav-link" href="../../articles">Articles
                            <span class="sr-only">(current)</span>                        </a>
                    </li>
                                    <li class="nav-item ">
                        <a class="nav-link" href="../../sarb">SARB
                                                    </a>
                    </li>
                            </ul>
        </div>
    </div>
</nav>

<!-- Page Content -->
<div class="container">

    
    <div class="row">

        <!-- Post Content Column -->
        <div class="col-lg-12">

            <!-- Title -->
            <h1 class="mt-4">SARB version 1 released</h1>


            <p class="date">March 18th 2021</p>
            <hr>

            
            <h1>Introducing SARB</h1>

<p>Static analysis tools (e.g. PHP CodeSniffer, ESLint, Psalm) are an essential part of modern software development; they find bugs and help improve code quality.
If you've introduced static analysis to legacy code the tools have probably reported hundreds or thousands of problems.
You're left with the choice of fixing all the issues or deciding against using the static analysis tools.</p>

<p>Static Analysis Results Baseliner <a href="https://github.com/DaveLiddament/sarb">(SARB)</a> is used to create a baseline of these results. 
As work on the project progresses SARB takes the latest static analysis results, removes those issues in the baseline and report the issues raised since the baseline.</p>

<p>SARB is written in PHP, but can be used with any static analysis tool.</p>

<h2>Using SARB</h2>

<p>Install with composer:</p>

<pre><code class="shell">composer require --dev dave-liddament/sarb
</code></pre>

<p>Assuming we're using <a href="https://github.com/squizlabs/PHP_CodeSniffer">PHP CodeSniffer</a>.
First create a baseline of the current issues:</p>

<pre><code>phpcs --report-json src | vendor/bin/sarb create --input-format=phpcodesniffer-json phpcs.sarb
</code></pre>

<p>This will create a file <code>phpcs.sarb</code> that you'll want to check in to your repo.
Then code away. Before you're ready to commit your code run SARB again to make sure you've not added any issues since the baseline.
This command will show any new issues you've raised.</p>

<pre><code>phpcs --report-json src | vendor/bin/sarb remove phpcs.sarb
</code></pre>

<p>SARB supports the <a href="https://github.com/DaveLiddament/sarb#supported-tools">following tools</a> out of the box:</p>

<ul>
<li><a href="https://github.com/squizlabs/PHP_CodeSniffer">PHP CodeSniffer</a></li>
<li><a href="https://github.com/phan/phan">Phan</a></li>
<li><a href="https://www.exakat.io/">Exakat</a></li>
<li><a href="https://github.com/phpmd/phpmd">PHPMD</a></li>
<li><a href="https://psalm.dev/">Psalm</a></li>
<li><a href="https://phpstan.org/">PHPStan</a></li>
</ul>

<p>If your tool is not supported there are three ways to <a href="https://github.com/DaveLiddament/sarb/blob/master/docs/CustomInputFormats.md">add support</a>.</p>

<h2>Version 1</h2>

<p>SARB 0.1 was <a href="https://twitter.com/DaveLiddament/status/1082779763826139136">first released</a> in January 2019. 
The primary use case was for use with Psalm and PHPStan. 
Both tools now have their own baseline functionality. 
SARB's functionality is slightly different; it can track baseline issues even if the file they are in is <a href="https://github.com/DaveLiddament/sarb/blob/master/docs/SarbVsOtherBaseliningTechniques.md">renamed or moved</a>.</p>

<p>Version 1 has simplified the usage of the tool, added support for Github actions and had a tidy up of the codebase.</p>

<p>To migrate from version 0 to 1 use the <a href="https://github.com/DaveLiddament/sarb/blob/master/docs/version0/UpgradingToVersion1.md">upgrade script</a>.</p>

<h2 id="comments-corrections-feedback-etc">Comments, corrections, feedback</h2>

<p>Drop me a DM on <a href="https://twitter.com/DaveLiddament">twitter</a>.</p>

        </div>


    </div>
    <!-- /.row -->


</div>
<!-- /.container -->

<!-- Footer -->
<footer class="py-5 bg-dark">
    <div class="container">
        <p class="m-0 text-center text-white">
            Copyright &copy; Dave Liddament 2018-2024
            <a class="social-circle" href="https://twitter.com/DaveLiddament"><i class="fa-brands fa-twitter"></i></a>
            <a class="social-circle" href="https://github.com/DaveLiddament"><i class="fa-brands fa-github"></i></a>
            <a class="social-circle" href="https://www.linkedin.com/in/daveliddament/"><i
                        class="fa-brands fa-linkedin"></i></a>
            <a class="social-circle" rel="me" href="https://phpc.social/@DaveLiddament"><i class="fa-brands fa-mastodon"></i></a>
        </p>
    </div>
    <!-- /.container -->
</footer>

<!-- Bootstrap core JavaScript -->
<script src="../../js/jquery.min.js"></script>
<script src="../../js/bootstrap.bundle.min.js"></script>
<script src="../../js/prism.js"></script>

</body>

</html>
